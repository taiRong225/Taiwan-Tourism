function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{XWda:function(t,e,i){"use strict";i.r(e),i.d(e,"HomeModule",(function(){return K}));var r=i("ofXK"),a=i("tyNb"),c=i("wp8x"),n=i("AytR"),s=i("5X4A"),o=i("fXoL"),b=i("3ROY"),u=i("WEYH"),l=i("XXB/"),d=i("1i8C"),f=i("LYaK"),p=i("j/Ft"),m=["tourismTypeSelect"],v=["keywordInput"],y=function(t){return["/spots",t]};function h(t,e){if(1&t&&(o.Mb(0,"a",28),o.Mb(1,"h3",29),o.mc(2),o.Lb(),o.Lb()),2&t){var i=o.Wb().$implicit;o.bc("routerLink",o.dc(3,y,i.ID)),o.zb(2),o.pc("",i.subTitle," | ",i.title,"")}}var g=function(t){return["/restaurant",t]};function L(t,e){if(1&t&&(o.Mb(0,"a",28),o.Mb(1,"h3",29),o.mc(2),o.Lb(),o.Lb()),2&t){var i=o.Wb().$implicit;o.bc("routerLink",o.dc(3,g,i.ID)),o.zb(2),o.pc("",i.subTitle," | ",i.title,"")}}var M=function(t){return["/activity",t]};function w(t,e){if(1&t&&(o.Mb(0,"a",28),o.Mb(1,"h3",29),o.mc(2),o.Lb(),o.Lb()),2&t){var i=o.Wb().$implicit;o.bc("routerLink",o.dc(3,M,i.ID)),o.zb(2),o.pc("",i.subTitle," | ",i.title,"")}}function C(t,e){if(1&t&&(o.Mb(0,"slide"),o.Kb(1,"img",25),o.Mb(2,"div",26),o.lc(3,h,3,5,"a",27),o.lc(4,L,3,5,"a",27),o.lc(5,w,3,5,"a",27),o.Lb(),o.Lb()),2&t){var i=e.$implicit;o.zb(1),o.bc("src",i.path,o.ic)("alt",i.alt)("placeholder","assets/images/NoImage-1100x400.png"),o.zb(1),o.bc("ngSwitch",i.tourismType),o.zb(1),o.bc("ngSwitchCase","spots"),o.zb(1),o.bc("ngSwitchCase","restaurant"),o.zb(1),o.bc("ngSwitchCase","activity")}}function k(t,e){if(1&t){var i=o.Nb();o.Mb(0,"button",32),o.Ub("click",(function(){o.gc(i);var t=e.index;return o.Wb(3).switchSlide(t)})),o.Lb()}if(2&t){var r=e.index,a=o.Wb(3);o.Bb("active",r===a.activeSlideIndex)}}function S(t,e){if(1&t&&(o.Mb(0,"div",30),o.lc(1,k,1,2,"button",31),o.Lb()),2&t){var i=o.Wb(2);o.zb(1),o.bc("ngForOf",i.carousels)}}function P(t,e){if(1&t){var i=o.Nb();o.Mb(0,"div",1),o.Mb(1,"carousel",22),o.Ub("activeSlideChange",(function(t){return o.gc(i),o.Wb().activeSlideIndex=t})),o.lc(2,C,6,7,"slide",23),o.lc(3,S,2,1,"div",24),o.Lb(),o.Lb()}if(2&t){var r=o.Wb();o.bc("@fade",void 0),o.zb(1),o.bc("isAnimated",!0)("activeSlide",r.activeSlideIndex),o.zb(1),o.bc("ngForOf",r.carousels),o.zb(1),o.bc("ngIf",r.carousels.length>1)}}function I(t,e){if(1&t&&(o.Mb(0,"div",39),o.Mb(1,"div",40),o.Mb(2,"div",41),o.Mb(3,"div",42),o.Kb(4,"img",43),o.Lb(),o.Mb(5,"div",44),o.Mb(6,"div",45),o.Mb(7,"div"),o.Mb(8,"span",46),o.mc(9),o.Xb(10,"date"),o.Xb(11,"date"),o.Lb(),o.Mb(12,"a",47),o.Mb(13,"h3",48),o.mc(14),o.Lb(),o.Lb(),o.Lb(),o.Mb(15,"div",49),o.Mb(16,"div"),o.Kb(17,"i",50),o.Mb(18,"span",46),o.mc(19),o.Lb(),o.Lb(),o.Mb(20,"a",51),o.mc(21,"\u8a73\u7d30\u4ecb\u7d39"),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Lb()),2&t){var i=e.$implicit;o.zb(4),o.bc("src",i.Picture.PictureUrl1,o.ic)("alt",i.Picture.PictureDescription1)("placeholder","assets/images/NoImage-160x160.png"),o.zb(5),o.pc(" ",o.Yb(10,8,i.StartTime,"yyyy/MM/dd")," - ",o.Yb(11,11,i.EndTime,"yyyy/MM/dd")," "),o.zb(3),o.bc("routerLink",o.dc(14,M,i.ID)),o.zb(2),o.nc(i.Name),o.zb(5),o.nc(i.City)}}function x(t,e){if(1&t&&(o.Mb(0,"div",33),o.Mb(1,"div",1),o.Mb(2,"div",34),o.Mb(3,"h2",35),o.mc(4,"\u8fd1\u671f\u6d3b\u52d5"),o.Lb(),o.Mb(5,"a",36),o.mc(6,"\u67e5\u770b\u66f4\u591a\u6d3b\u52d5"),o.Lb(),o.Lb(),o.Mb(7,"div",37),o.lc(8,I,22,16,"div",38),o.Lb(),o.Lb(),o.Lb()),2&t){var i=o.Wb();o.bc("@fade",void 0),o.zb(8),o.bc("ngForOf",i.activities)}}function z(t,e){if(1&t&&(o.Mb(0,"div",55),o.Mb(1,"div",56),o.Kb(2,"img",57),o.Lb(),o.Mb(3,"a",58),o.Mb(4,"h3",59),o.mc(5),o.Lb(),o.Lb(),o.Kb(6,"i",60),o.mc(7),o.Lb()),2&t){var i=e.$implicit;o.zb(2),o.bc("src",i.Picture.PictureUrl1,o.ic)("alt",i.Picture.PictureDescription1),o.zb(1),o.bc("routerLink",o.dc(5,y,i.ID)),o.zb(2),o.nc(i.Name),o.zb(2),o.oc("",i.City," ")}}function T(t,e){if(1&t&&(o.Mb(0,"div",33),o.Mb(1,"div",1),o.Mb(2,"div",34),o.Mb(3,"h2",35),o.mc(4,"\u71b1\u9580\u6253\u5361\u666f\u9ede"),o.Lb(),o.Mb(5,"a",52),o.mc(6,"\u67e5\u770b\u66f4\u591a\u666f\u9ede"),o.Lb(),o.Lb(),o.Mb(7,"div",53),o.lc(8,z,8,7,"div",54),o.Lb(),o.Lb(),o.Lb()),2&t){var i=o.Wb();o.bc("@fade",void 0),o.zb(8),o.bc("ngForOf",i.spotsList)}}function A(t,e){if(1&t&&(o.Mb(0,"div",55),o.Mb(1,"div",56),o.Kb(2,"img",57),o.Lb(),o.Mb(3,"a",62),o.Mb(4,"h3",59),o.mc(5),o.Lb(),o.Lb(),o.Kb(6,"i",60),o.mc(7),o.Lb()),2&t){var i=e.$implicit;o.zb(2),o.bc("src",i.Picture.PictureUrl1,o.ic)("alt",i.Picture.PictureDescription1),o.zb(3),o.nc(i.Name),o.zb(2),o.oc("",i.City," ")}}var _=function(){return["/restaurant/search"]};function j(t,e){if(1&t&&(o.Mb(0,"div",33),o.Mb(1,"div",1),o.Mb(2,"div",34),o.Mb(3,"h2",35),o.mc(4,"\u4e00\u518d\u56de\u8a2a\u7f8e\u98df"),o.Lb(),o.Mb(5,"a",61),o.mc(6,"\u67e5\u770b\u66f4\u591a\u7f8e\u98df"),o.Lb(),o.Lb(),o.Mb(7,"div",53),o.lc(8,A,8,4,"div",54),o.Lb(),o.Lb(),o.Lb()),2&t){var i=o.Wb();o.bc("@fade",void 0),o.zb(5),o.bc("routerLink",o.cc(3,_)),o.zb(3),o.bc("ngForOf",i.restaurants)}}var D,U,W,$=[{path:"",component:(D=function(){function t(e,i,r,a,c){_classCallCheck(this,t),this.router=e,this.activityService=i,this.spotsService=r,this.restaurantService=a,this.mapService=c,this.activities=[],this.spotsList=[],this.restaurants=[],this.carousels=[],this.activeSlideIndex=0}return _createClass(t,[{key:"ngOnInit",value:function(){this.getCities()}},{key:"getActivities",value:function(){var t=this;this.activityService.getActivities({$top:4,$orderby:"StartTime desc"}).subscribe((function(e){t.activities=e.map((function(t){return t.City=t.City||n.a.noProvideCity,t.Picture.PictureUrl1=t.Picture.PictureUrl1||n.a.noImage160x160,t}))}))}},{key:"getSpotsList",value:function(){var t=this;this.spotsService.getSpotsList({$top:4}).subscribe((function(e){t.spotsList=e.map((function(t){return t.City=t.City||n.a.noProvideCity,t.Picture.PictureUrl1=t.Picture.PictureUrl1||n.a.noImage250x200,t}))}))}},{key:"getRestaurants",value:function(){var t=this;this.restaurantService.getRestaurants({$top:4}).subscribe((function(e){t.restaurants=e.map((function(t){return t.City=t.City||n.a.noProvideCity,t.Picture.PictureUrl1=t.Picture.PictureUrl1||n.a.noImage250x200,t}))}))}},{key:"getCities",value:function(){var t=this;this.mapService.getCities().subscribe((function(e){var i=s.a(e.length);t.getCarousels(e[i].City),t.getActivities(),t.getSpotsList(),t.getRestaurants()}))}},{key:"getCarousels",value:function(t){var e=this,i={$top:2,$filter:"Picture/PictureUrl1 ne null and City ne null",$orderby:"SrcUpdateTime desc"};this.spotsService.getCitySpotsList(t,i).subscribe((function(t){var i,r=t.map((function(t){return{ID:t.ID,title:t.Name,subTitle:t.City,path:t.Picture.PictureUrl1,alt:t.Picture.PictureDescription2,tourismType:"spots"}}));(i=e.carousels).push.apply(i,_toConsumableArray(r))})),this.restaurantService.getCityRestaurants(t,i).subscribe((function(t){var i,r=t.map((function(t){return{ID:t.ID,title:t.Name,subTitle:t.City,path:t.Picture.PictureUrl1,alt:t.Picture.PictureDescription2,tourismType:"restaurant"}}));(i=e.carousels).push.apply(i,_toConsumableArray(r))})),this.activityService.getCityActivities(t,i).subscribe((function(t){var i,r=t.map((function(t){return{ID:t.ID,title:t.Name,subTitle:t.City,path:t.Picture.PictureUrl1,alt:t.Picture.PictureDescription2,tourismType:"activity"}}));(i=e.carousels).push.apply(i,_toConsumableArray(r))}))}},{key:"navigateToSearch",value:function(){var t={state:{keyword:this.keywordInput.nativeElement.value}};switch(this.tourismTypeSelect.nativeElement.value){case"spots":this.router.navigate(["/spots/search"],t);break;case"restaurant":this.router.navigate(["/restaurant/search"],t);break;case"activity":this.router.navigate(["/activity/search"],t)}}},{key:"switchSlide",value:function(t){console.log(t),this.activeSlideIndex=t}}]),t}(),D.\u0275fac=function(t){return new(t||D)(o.Jb(a.b),o.Jb(b.a),o.Jb(u.a),o.Jb(l.a),o.Jb(d.a))},D.\u0275cmp=o.Db({type:D,selectors:[["app-home"]],viewQuery:function(t,e){var i;1&t&&(o.qc(m,!0),o.qc(v,!0)),2&t&&(o.fc(i=o.Vb())&&(e.tourismTypeSelect=i.first),o.fc(i=o.Vb())&&(e.keywordInput=i.first))},decls:36,vars:5,consts:[[1,"pt-2","pb-10","pt-md-20","pb-md-14"],[1,"container"],[1,"row","justify-content-center"],[1,"col-12","col-md-6","text-center","text-md-start","mb-9","mb-md-0"],[1,"fs-xl","fw-light","lh-base","text-secondary","text-md-start"],[1,"border-bottom","border-2","border-info"],[1,"fs-sm","fs-md-5"],[1,"fas","fa-map-marker-alt","text-info"],[1,"fs-xs","fs-md-6","fw-display","ms-2"],[1,"col-12","col-md-4"],[1,"mb-2"],[1,"form-select","bg-white","py-3","px-8"],["tourismTypeSelect",""],["value","spots","selected",""],["value","activity"],["value","restaurant"],["type","text","placeholder","\u4f60\u60f3\u53bb\u54ea\u88e1\uff1f\u8acb\u8f38\u5165\u95dc\u9375\u5b57",1,"form-control","py-3","px-8"],["keywordInput",""],["href","javascript:;",1,"btn","btn-primary","text-white","w-100","py-3",3,"click"],[1,"fa","fa-search","me-5"],["class","container",4,"ngIf"],["class","mt-8",4,"ngIf"],[3,"isAnimated","activeSlide","activeSlideChange"],[4,"ngFor","ngForOf"],["class","carousel-indicators",4,"ngIf"],["appImage","",3,"src","alt","placeholder"],[1,"carousel-caption",3,"ngSwitch"],["href","javascript:;",3,"routerLink",4,"ngSwitchCase"],["href","javascript:;",3,"routerLink"],[1,"fs-6","fs-md-3","text-white"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions",3,"active","click",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleCaptions",3,"click"],[1,"mt-8"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"fs-4","fs-md-lg","fw-light","text-secondary","mb-0"],["href","javascript:;","routerLink","/activity/search",1,"more","text-danger"],[1,"row","row-cols-1","row-cols-md-2"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card-item","border-0","border-md","bg-transparent","bg-md-light","mb-4","mb-md-3"],[1,"row","g-0"],[1,"col-3"],["appImage","",1,"w-100","h-100","object-cover",3,"src","alt","placeholder"],[1,"col-9"],[1,"d-flex","flex-column","justify-content-md-between","h-100","ps-4","p-md-4"],[1,"fs-xs","fs-md-6"],[3,"routerLink"],[1,"fs-6","fs-md-5","fw-bold","text-dark","mt-1"],[1,"d-flex","justify-content-between"],[1,"fas","fa-map-marker-alt","d-none","d-md-inline","me-1"],["href","javascript:;","routerLink","/activity/search",1,"more","text-primary","d-none","d-md-block"],["href","javascript:;","routerLink","/spots/search",1,"more","text-danger"],[1,"row","row-cols-1","row-cols-md-4"],["class","col mb-4",4,"ngFor","ngForOf"],[1,"col","mb-4"],[1,"img-wrap"],["appImage","",3,"src","alt"],["href","javascipt:;",3,"routerLink"],[1,"fs-5","fw-bold","text-dark","mt-2"],[1,"fas","fa-map-marker-alt","me-1"],["href","javascript:;",1,"more","text-danger",3,"routerLink"],["href","spots.html"]],template:function(t,e){1&t&&(o.Mb(0,"div",0),o.Mb(1,"div",1),o.Mb(2,"div",2),o.Mb(3,"div",3),o.Mb(4,"h1",4),o.mc(5,"\u63a2\u7d22"),o.Mb(6,"span",5),o.mc(7,"\u53f0\u7063\u4e4b\u7f8e"),o.Lb(),o.Kb(8,"br"),o.mc(9,"\u8b93\u6211\u5011\u66f4\u89aa\u8fd1\u9019\u7247\u571f\u5730"),o.Lb(),o.Mb(10,"p",6),o.Kb(11,"i",7),o.mc(12," \u53f0\u7063\u65c5\u904a\u666f\u9ede\u5c0e\u89bd"),o.Mb(13,"span",8),o.mc(14,"Taiwan Travel Guide"),o.Lb(),o.Lb(),o.Lb(),o.Mb(15,"div",9),o.Mb(16,"form"),o.Mb(17,"div",10),o.Mb(18,"select",11,12),o.Mb(20,"option",13),o.mc(21,"\u63a2\u7d22\u666f\u9ede"),o.Lb(),o.Mb(22,"option",14),o.mc(23,"\u7bc0\u6176\u6d3b\u52d5"),o.Lb(),o.Mb(24,"option",15),o.mc(25,"\u54c1\u5690\u7f8e\u98df"),o.Lb(),o.Lb(),o.Lb(),o.Mb(26,"div",10),o.Kb(27,"input",16,17),o.Lb(),o.Mb(29,"a",18),o.Ub("click",(function(){return e.navigateToSearch()})),o.Kb(30,"i",19),o.mc(31,"\u641c\u5c0b "),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.lc(32,P,4,5,"div",20),o.lc(33,x,9,2,"div",21),o.lc(34,T,9,2,"div",21),o.lc(35,j,9,4,"div",21)),2&t&&(o.bc("@fade",void 0),o.zb(32),o.bc("ngIf",e.carousels.length),o.zb(1),o.bc("ngIf",e.activities.length),o.zb(1),o.bc("ngIf",e.spotsList.length),o.zb(1),o.bc("ngIf",e.restaurants.length))},directives:[r.j,f.a,r.i,f.c,p.a,r.l,r.m,a.c],pipes:[r.d],styles:[""],data:{animation:[c.a]}}),D)}],F=((U=function t(){_classCallCheck(this,t)}).\u0275mod=o.Hb({type:U}),U.\u0275inj=o.Gb({factory:function(t){return new(t||U)},imports:[[a.d.forChild($)],a.d]}),U),O=i("PCNd"),K=((W=function t(){_classCallCheck(this,t)}).\u0275mod=o.Hb({type:W}),W.\u0275inj=o.Gb({factory:function(t){return new(t||W)},imports:[[r.b,F,f.b.forRoot(),O.a]]}),W)}}]);