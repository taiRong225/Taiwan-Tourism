(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{XWda:function(t,i,e){"use strict";e.r(i),e.d(i,"HomeModule",(function(){return $}));var c=e("ofXK"),r=e("tyNb"),s=e("wp8x"),b=e("AytR"),a=e("fXoL"),o=e("3ROY"),n=e("WEYH"),l=e("XXB/"),u=e("1i8C"),d=e("LYaK"),p=e("j/Ft");const m=["tourismTypeSelect"],f=["keywordInput"],v=function(t){return["/spots",t]};function h(t,i){if(1&t&&(a.Mb(0,"a",27),a.Mb(1,"h3",28),a.lc(2),a.Lb(),a.Lb()),2&t){const t=a.Wb().$implicit;a.bc("routerLink",a.dc(3,v,t.ID)),a.zb(2),a.oc("",t.subTitle," | ",t.title,"")}}const L=function(t){return["/restaurant",t]};function g(t,i){if(1&t&&(a.Mb(0,"a",27),a.Mb(1,"h3",28),a.lc(2),a.Lb(),a.Lb()),2&t){const t=a.Wb().$implicit;a.bc("routerLink",a.dc(3,L,t.ID)),a.zb(2),a.oc("",t.subTitle," | ",t.title,"")}}const y=function(t){return["/activity",t]};function M(t,i){if(1&t&&(a.Mb(0,"a",27),a.Mb(1,"h3",28),a.lc(2),a.Lb(),a.Lb()),2&t){const t=a.Wb().$implicit;a.bc("routerLink",a.dc(3,y,t.ID)),a.zb(2),a.oc("",t.subTitle," | ",t.title,"")}}function w(t,i){if(1&t&&(a.Mb(0,"slide"),a.Kb(1,"img",24),a.Mb(2,"div",25),a.kc(3,h,3,5,"a",26),a.kc(4,g,3,5,"a",26),a.kc(5,M,3,5,"a",26),a.Lb(),a.Lb()),2&t){const t=i.$implicit;a.zb(1),a.bc("src",t.path,a.hc)("alt",t.alt)("placeholder","assets/images/NoImage-1100x400.png"),a.zb(1),a.bc("ngSwitch",t.tourismType),a.zb(1),a.bc("ngSwitchCase","spots"),a.zb(1),a.bc("ngSwitchCase","restaurant"),a.zb(1),a.bc("ngSwitchCase","activity")}}function k(t,i){if(1&t&&(a.Mb(0,"div",1),a.Mb(1,"carousel",22),a.kc(2,w,6,7,"slide",23),a.Lb(),a.Lb()),2&t){const t=a.Wb();a.bc("@fade",void 0),a.zb(1),a.bc("isAnimated",!0),a.zb(1),a.bc("ngForOf",t.carousels)}}function P(t,i){if(1&t&&(a.Mb(0,"div",35),a.Mb(1,"div",36),a.Mb(2,"div",37),a.Mb(3,"div",38),a.Kb(4,"img",39),a.Lb(),a.Mb(5,"div",40),a.Mb(6,"div",41),a.Mb(7,"div"),a.Mb(8,"span",42),a.lc(9),a.Xb(10,"date"),a.Xb(11,"date"),a.Lb(),a.Mb(12,"a",43),a.Mb(13,"h3",44),a.lc(14),a.Lb(),a.Lb(),a.Lb(),a.Mb(15,"div",45),a.Mb(16,"div"),a.Kb(17,"i",46),a.Mb(18,"span",42),a.lc(19),a.Lb(),a.Lb(),a.Mb(20,"a",47),a.lc(21,"\u8a73\u7d30\u4ecb\u7d39"),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&t){const t=i.$implicit;a.zb(4),a.bc("src",t.Picture.PictureUrl1,a.hc)("alt",t.Picture.PictureDescription1)("placeholder","assets/images/NoImage-160x160.png"),a.zb(5),a.oc(" ",a.Yb(10,8,t.StartTime,"yyyy/MM/dd")," - ",a.Yb(11,11,t.EndTime,"yyyy/MM/dd")," "),a.zb(3),a.bc("routerLink",a.dc(14,y,t.ID)),a.zb(2),a.mc(t.Name),a.zb(5),a.mc(t.City)}}function C(t,i){if(1&t&&(a.Mb(0,"div",29),a.Mb(1,"div",1),a.Mb(2,"div",30),a.Mb(3,"h2",31),a.lc(4,"\u8fd1\u671f\u6d3b\u52d5"),a.Lb(),a.Mb(5,"a",32),a.lc(6,"\u67e5\u770b\u66f4\u591a\u6d3b\u52d5"),a.Lb(),a.Lb(),a.Mb(7,"div",33),a.kc(8,P,22,16,"div",34),a.Lb(),a.Lb(),a.Lb()),2&t){const t=a.Wb();a.bc("@fade",void 0),a.zb(8),a.bc("ngForOf",t.activities)}}function x(t,i){if(1&t&&(a.Mb(0,"div",51),a.Mb(1,"div",52),a.Kb(2,"img",53),a.Lb(),a.Mb(3,"a",54),a.Mb(4,"h3",55),a.lc(5),a.Lb(),a.Lb(),a.Kb(6,"i",56),a.lc(7),a.Lb()),2&t){const t=i.$implicit;a.zb(2),a.bc("src",t.Picture.PictureUrl1,a.hc)("alt",t.Picture.PictureDescription1),a.zb(1),a.bc("routerLink",a.dc(5,v,t.ID)),a.zb(2),a.mc(t.Name),a.zb(2),a.nc("",t.City," ")}}function z(t,i){if(1&t&&(a.Mb(0,"div",29),a.Mb(1,"div",1),a.Mb(2,"div",30),a.Mb(3,"h2",31),a.lc(4,"\u71b1\u9580\u6253\u5361\u666f\u9ede"),a.Lb(),a.Mb(5,"a",48),a.lc(6,"\u67e5\u770b\u66f4\u591a\u666f\u9ede"),a.Lb(),a.Lb(),a.Mb(7,"div",49),a.kc(8,x,8,7,"div",50),a.Lb(),a.Lb(),a.Lb()),2&t){const t=a.Wb();a.bc("@fade",void 0),a.zb(8),a.bc("ngForOf",t.spotsList)}}function I(t,i){if(1&t&&(a.Mb(0,"div",51),a.Mb(1,"div",52),a.Kb(2,"img",53),a.Lb(),a.Mb(3,"a",58),a.Mb(4,"h3",55),a.lc(5),a.Lb(),a.Lb(),a.Kb(6,"i",56),a.lc(7),a.Lb()),2&t){const t=i.$implicit;a.zb(2),a.bc("src",t.Picture.PictureUrl1,a.hc)("alt",t.Picture.PictureDescription1),a.zb(3),a.mc(t.Name),a.zb(2),a.nc("",t.City," ")}}const S=function(){return["/restaurant/search"]};function T(t,i){if(1&t&&(a.Mb(0,"div",29),a.Mb(1,"div",1),a.Mb(2,"div",30),a.Mb(3,"h2",31),a.lc(4,"\u4e00\u518d\u56de\u8a2a\u7f8e\u98df"),a.Lb(),a.Mb(5,"a",57),a.lc(6,"\u67e5\u770b\u66f4\u591a\u7f8e\u98df"),a.Lb(),a.Lb(),a.Mb(7,"div",49),a.kc(8,I,8,4,"div",50),a.Lb(),a.Lb(),a.Lb()),2&t){const t=a.Wb();a.bc("@fade",void 0),a.zb(5),a.bc("routerLink",a.cc(3,S)),a.zb(3),a.bc("ngForOf",t.restaurants)}}const D=[{path:"",component:(()=>{class t{constructor(t,i,e,c,r){this.router=t,this.activityService=i,this.spotsService=e,this.restaurantService=c,this.mapService=r,this.activities=[],this.spotsList=[],this.restaurants=[],this.carousels=[]}ngOnInit(){this.getCities()}getActivities(){this.activityService.getActivities({$top:4,$orderby:"StartTime desc"}).subscribe(t=>{this.activities=t.map(t=>(t.City=t.City||b.a.noProvideCity,t.Picture.PictureUrl1=t.Picture.PictureUrl1||b.a.noImage160x160,t))})}getSpotsList(){this.spotsService.getSpotsList({$top:4}).subscribe(t=>{this.spotsList=t.map(t=>(t.City=t.City||b.a.noProvideCity,t.Picture.PictureUrl1=t.Picture.PictureUrl1||b.a.noImage250x200,t))})}getRestaurants(){this.restaurantService.getRestaurants({$top:4}).subscribe(t=>{this.restaurants=t.map(t=>(t.City=t.City||b.a.noProvideCity,t.Picture.PictureUrl1=t.Picture.PictureUrl1||b.a.noImage250x200,t))})}getCities(){this.mapService.getCities().subscribe(t=>{const i=(e=t.length,Math.floor(Math.random()*e));var e;this.getCarousels(t[i].City),this.getActivities(),this.getSpotsList(),this.getRestaurants()})}getCarousels(t){const i={$top:2,$filter:"Picture/PictureUrl1 ne null and City ne null",$orderby:"SrcUpdateTime desc"};this.spotsService.getCitySpotsList(t,i).subscribe(t=>{const i=t.map(t=>({ID:t.ID,title:t.Name,subTitle:t.City,path:t.Picture.PictureUrl1,alt:t.Picture.PictureDescription2,tourismType:"spots"}));this.carousels.push(...i)}),this.restaurantService.getCityRestaurants(t,i).subscribe(t=>{const i=t.map(t=>({ID:t.ID,title:t.Name,subTitle:t.City,path:t.Picture.PictureUrl1,alt:t.Picture.PictureDescription2,tourismType:"restaurant"}));this.carousels.push(...i)}),this.activityService.getCityActivities(t,i).subscribe(t=>{const i=t.map(t=>({ID:t.ID,title:t.Name,subTitle:t.City,path:t.Picture.PictureUrl1,alt:t.Picture.PictureDescription2,tourismType:"activity"}));this.carousels.push(...i)})}navigateToSearch(){let t={state:{keyword:this.keywordInput.nativeElement.value}};switch(this.tourismTypeSelect.nativeElement.value){case"spots":this.router.navigate(["/spots/search"],t);break;case"restaurant":this.router.navigate(["/restaurant/search"],t);break;case"activity":this.router.navigate(["/activity/search"],t)}}}return t.\u0275fac=function(i){return new(i||t)(a.Jb(r.b),a.Jb(o.a),a.Jb(n.a),a.Jb(l.a),a.Jb(u.a))},t.\u0275cmp=a.Db({type:t,selectors:[["app-home"]],viewQuery:function(t,i){var e;1&t&&(a.pc(m,!0),a.pc(f,!0)),2&t&&(a.ec(e=a.Vb())&&(i.tourismTypeSelect=e.first),a.ec(e=a.Vb())&&(i.keywordInput=e.first))},decls:36,vars:5,consts:[[1,"pt-2","pb-10","pt-md-20","pb-md-14"],[1,"container"],[1,"row","justify-content-center"],[1,"col-12","col-md-6","text-center","text-md-start","mb-9","mb-md-0"],[1,"fs-xl","fw-light","lh-base","text-secondary","text-md-start"],[1,"border-bottom","border-2","border-info"],[1,"fs-sm","fs-md-5"],[1,"fas","fa-map-marker-alt","text-info"],[1,"fs-xs","fs-md-6","fw-display","ms-2"],[1,"col-12","col-md-4"],[1,"mb-2"],[1,"form-select","bg-white","py-3","px-8"],["tourismTypeSelect",""],["value","spots","selected",""],["value","activity"],["value","restaurant"],["type","text","placeholder","\u4f60\u60f3\u53bb\u54ea\u88e1\uff1f\u8acb\u8f38\u5165\u95dc\u9375\u5b57",1,"form-control","py-3","px-8"],["keywordInput",""],["href","javascript:;",1,"btn","btn-primary","text-white","w-100","py-3",3,"click"],[1,"fa","fa-search","me-5"],["class","container",4,"ngIf"],["class","mt-8",4,"ngIf"],[3,"isAnimated"],[4,"ngFor","ngForOf"],["appImage","",3,"src","alt","placeholder"],[1,"carousel-caption",3,"ngSwitch"],["href","javascript:;",3,"routerLink",4,"ngSwitchCase"],["href","javascript:;",3,"routerLink"],[1,"fs-6","fs-md-3","text-white"],[1,"mt-8"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"fs-4","fs-md-lg","fw-light","text-secondary","mb-0"],["href","javascript:;","routerLink","/activity/search",1,"more","text-danger"],[1,"row","row-cols-1","row-cols-md-2"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card-item","border-0","border-md","bg-transparent","bg-md-light","mb-4","mb-md-3"],[1,"row","g-0"],[1,"col-3"],["appImage","",1,"w-100","h-100","object-cover",3,"src","alt","placeholder"],[1,"col-9"],[1,"d-flex","flex-column","justify-content-md-between","h-100","ps-4","p-md-4"],[1,"fs-xs","fs-md-6"],[3,"routerLink"],[1,"fs-6","fs-md-5","fw-bold","text-dark","mt-1"],[1,"d-flex","justify-content-between"],[1,"fas","fa-map-marker-alt","d-none","d-md-inline","me-1"],["href","javascript:;","routerLink","/activity/search",1,"more","text-primary","d-none","d-md-block"],["href","javascript:;","routerLink","/spots/search",1,"more","text-danger"],[1,"row","row-cols-1","row-cols-md-4"],["class","col mb-4",4,"ngFor","ngForOf"],[1,"col","mb-4"],[1,"img-wrap"],["appImage","",3,"src","alt"],["href","javascipt:;",3,"routerLink"],[1,"fs-5","fw-bold","text-dark","mt-2"],[1,"fas","fa-map-marker-alt","me-1"],["href","javascript:;",1,"more","text-danger",3,"routerLink"],["href","spots.html"]],template:function(t,i){1&t&&(a.Mb(0,"div",0),a.Mb(1,"div",1),a.Mb(2,"div",2),a.Mb(3,"div",3),a.Mb(4,"h1",4),a.lc(5,"\u63a2\u7d22"),a.Mb(6,"span",5),a.lc(7,"\u53f0\u7063\u4e4b\u7f8e"),a.Lb(),a.Kb(8,"br"),a.lc(9,"\u8b93\u6211\u5011\u66f4\u89aa\u8fd1\u9019\u7247\u571f\u5730"),a.Lb(),a.Mb(10,"p",6),a.Kb(11,"i",7),a.lc(12," \u53f0\u7063\u65c5\u904a\u666f\u9ede\u5c0e\u89bd"),a.Mb(13,"span",8),a.lc(14,"Taiwan Travel Guide"),a.Lb(),a.Lb(),a.Lb(),a.Mb(15,"div",9),a.Mb(16,"form"),a.Mb(17,"div",10),a.Mb(18,"select",11,12),a.Mb(20,"option",13),a.lc(21,"\u63a2\u7d22\u666f\u9ede"),a.Lb(),a.Mb(22,"option",14),a.lc(23,"\u7bc0\u6176\u6d3b\u52d5"),a.Lb(),a.Mb(24,"option",15),a.lc(25,"\u54c1\u5690\u7f8e\u98df"),a.Lb(),a.Lb(),a.Lb(),a.Mb(26,"div",10),a.Kb(27,"input",16,17),a.Lb(),a.Mb(29,"a",18),a.Ub("click",(function(){return i.navigateToSearch()})),a.Kb(30,"i",19),a.lc(31,"\u641c\u5c0b "),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.kc(32,k,3,3,"div",20),a.kc(33,C,9,2,"div",21),a.kc(34,z,9,2,"div",21),a.kc(35,T,9,4,"div",21)),2&t&&(a.bc("@fade",void 0),a.zb(32),a.bc("ngIf",i.carousels.length),a.zb(1),a.bc("ngIf",i.activities.length),a.zb(1),a.bc("ngIf",i.spotsList.length),a.zb(1),a.bc("ngIf",i.restaurants.length))},directives:[c.j,d.a,c.i,d.c,p.a,c.l,c.m,r.c],pipes:[c.d],styles:[""],data:{animation:[s.a]}}),t})()}];let j=(()=>{class t{}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(i){return new(i||t)},imports:[[r.d.forChild(D)],r.d]}),t})();var U=e("PCNd");let $=(()=>{class t{}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(i){return new(i||t)},imports:[[c.b,j,d.b.forRoot(),U.a]]}),t})()}}]);