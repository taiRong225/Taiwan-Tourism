(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{XWda:function(t,i,e){"use strict";e.r(i),e.d(i,"HomeModule",(function(){return W}));var c=e("ofXK"),r=e("tyNb"),s=e("wp8x"),b=e("AytR"),a=e("5X4A"),n=e("fXoL"),o=e("3ROY"),u=e("WEYH"),l=e("XXB/"),d=e("1i8C"),m=e("LYaK"),p=e("j/Ft");const f=["tourismTypeSelect"],v=["keywordInput"],h=function(t){return["/spots",t]};function L(t,i){if(1&t&&(n.Mb(0,"a",28),n.Mb(1,"h3",29),n.mc(2),n.Lb(),n.Lb()),2&t){const t=n.Wb().$implicit;n.bc("routerLink",n.dc(3,h,t.ID)),n.zb(2),n.pc("",t.subTitle," | ",t.title,"")}}const g=function(t){return["/restaurant",t]};function y(t,i){if(1&t&&(n.Mb(0,"a",28),n.Mb(1,"h3",29),n.mc(2),n.Lb(),n.Lb()),2&t){const t=n.Wb().$implicit;n.bc("routerLink",n.dc(3,g,t.ID)),n.zb(2),n.pc("",t.subTitle," | ",t.title,"")}}const M=function(t){return["/activity",t]};function w(t,i){if(1&t&&(n.Mb(0,"a",28),n.Mb(1,"h3",29),n.mc(2),n.Lb(),n.Lb()),2&t){const t=n.Wb().$implicit;n.bc("routerLink",n.dc(3,M,t.ID)),n.zb(2),n.pc("",t.subTitle," | ",t.title,"")}}function P(t,i){if(1&t&&(n.Mb(0,"slide"),n.Kb(1,"img",25),n.Mb(2,"div",26),n.lc(3,L,3,5,"a",27),n.lc(4,y,3,5,"a",27),n.lc(5,w,3,5,"a",27),n.Lb(),n.Lb()),2&t){const t=i.$implicit;n.zb(1),n.bc("src",t.path,n.ic)("alt",t.alt)("placeholder","assets/images/NoImage-1100x400.png"),n.zb(1),n.bc("ngSwitch",t.tourismType),n.zb(1),n.bc("ngSwitchCase","spots"),n.zb(1),n.bc("ngSwitchCase","restaurant"),n.zb(1),n.bc("ngSwitchCase","activity")}}function S(t,i){if(1&t){const t=n.Nb();n.Mb(0,"button",32),n.Ub("click",(function(){n.gc(t);const e=i.index;return n.Wb(3).switchSlide(e)})),n.Lb()}if(2&t){const t=i.index,e=n.Wb(3);n.Bb("active",t===e.activeSlideIndex)}}function x(t,i){if(1&t&&(n.Mb(0,"div",30),n.lc(1,S,1,2,"button",31),n.Lb()),2&t){const t=n.Wb(2);n.zb(1),n.bc("ngForOf",t.carousels)}}function C(t,i){if(1&t){const t=n.Nb();n.Mb(0,"div",1),n.Mb(1,"carousel",22),n.Ub("activeSlideChange",(function(i){return n.gc(t),n.Wb().activeSlideIndex=i})),n.lc(2,P,6,7,"slide",23),n.lc(3,x,2,1,"div",24),n.Lb(),n.Lb()}if(2&t){const t=n.Wb();n.bc("@fade",void 0),n.zb(1),n.bc("isAnimated",!0)("activeSlide",t.activeSlideIndex),n.zb(1),n.bc("ngForOf",t.carousels),n.zb(1),n.bc("ngIf",t.carousels.length>1)}}function I(t,i){if(1&t&&(n.Mb(0,"div",39),n.Mb(1,"div",40),n.Mb(2,"div",41),n.Mb(3,"div",42),n.Mb(4,"div",43),n.Kb(5,"img",25),n.Lb(),n.Lb(),n.Mb(6,"div",44),n.Mb(7,"div",45),n.Mb(8,"div"),n.Mb(9,"span",46),n.mc(10),n.Xb(11,"date"),n.Xb(12,"date"),n.Lb(),n.Mb(13,"a",47),n.Mb(14,"h3",48),n.mc(15),n.Lb(),n.Lb(),n.Lb(),n.Mb(16,"div",49),n.Mb(17,"div"),n.Kb(18,"i",50),n.Mb(19,"span",46),n.mc(20),n.Lb(),n.Lb(),n.Mb(21,"a",51),n.mc(22,"\u8a73\u7d30\u4ecb\u7d39"),n.Lb(),n.Lb(),n.Lb(),n.Lb(),n.Lb(),n.Lb(),n.Lb()),2&t){const t=i.$implicit;n.zb(5),n.bc("src",t.Picture.PictureUrl1,n.ic)("alt",t.Picture.PictureDescription1)("placeholder","assets/images/NoImage-160x160.png"),n.zb(5),n.pc(" ",n.Yb(11,8,t.StartTime,"yyyy/MM/dd")," - ",n.Yb(12,11,t.EndTime,"yyyy/MM/dd")," "),n.zb(3),n.bc("routerLink",n.dc(14,M,t.ID)),n.zb(2),n.nc(t.Name),n.zb(5),n.nc(t.City)}}function k(t,i){if(1&t&&(n.Mb(0,"div",33),n.Mb(1,"div",1),n.Mb(2,"div",34),n.Mb(3,"h2",35),n.mc(4,"\u8fd1\u671f\u6d3b\u52d5"),n.Lb(),n.Mb(5,"a",36),n.mc(6,"\u67e5\u770b\u66f4\u591a\u6d3b\u52d5"),n.Lb(),n.Lb(),n.Mb(7,"div",37),n.lc(8,I,23,16,"div",38),n.Lb(),n.Lb(),n.Lb()),2&t){const t=n.Wb();n.bc("@fade",void 0),n.zb(8),n.bc("ngForOf",t.activities)}}function z(t,i){if(1&t&&(n.Mb(0,"div",55),n.Mb(1,"div",56),n.Kb(2,"img",57),n.Lb(),n.Mb(3,"a",58),n.Mb(4,"h3",59),n.mc(5),n.Lb(),n.Lb(),n.Kb(6,"i",60),n.mc(7),n.Lb()),2&t){const t=i.$implicit;n.zb(2),n.bc("src",t.Picture.PictureUrl1,n.ic)("alt",t.Picture.PictureDescription1),n.zb(1),n.bc("routerLink",n.dc(5,h,t.ID)),n.zb(2),n.nc(t.Name),n.zb(2),n.oc("",t.City," ")}}function T(t,i){if(1&t&&(n.Mb(0,"div",33),n.Mb(1,"div",1),n.Mb(2,"div",34),n.Mb(3,"h2",35),n.mc(4,"\u71b1\u9580\u6253\u5361\u666f\u9ede"),n.Lb(),n.Mb(5,"a",52),n.mc(6,"\u67e5\u770b\u66f4\u591a\u666f\u9ede"),n.Lb(),n.Lb(),n.Mb(7,"div",53),n.lc(8,z,8,7,"div",54),n.Lb(),n.Lb(),n.Lb()),2&t){const t=n.Wb();n.bc("@fade",void 0),n.zb(8),n.bc("ngForOf",t.spotsList)}}function D(t,i){if(1&t&&(n.Mb(0,"div",55),n.Mb(1,"div",56),n.Kb(2,"img",57),n.Lb(),n.Mb(3,"a",62),n.Mb(4,"h3",59),n.mc(5),n.Lb(),n.Lb(),n.Kb(6,"i",60),n.mc(7),n.Lb()),2&t){const t=i.$implicit;n.zb(2),n.bc("src",t.Picture.PictureUrl1,n.ic)("alt",t.Picture.PictureDescription1),n.zb(3),n.nc(t.Name),n.zb(2),n.oc("",t.City," ")}}const U=function(){return["/restaurant/search"]};function j(t,i){if(1&t&&(n.Mb(0,"div",33),n.Mb(1,"div",1),n.Mb(2,"div",34),n.Mb(3,"h2",35),n.mc(4,"\u4e00\u518d\u56de\u8a2a\u7f8e\u98df"),n.Lb(),n.Mb(5,"a",61),n.mc(6,"\u67e5\u770b\u66f4\u591a\u7f8e\u98df"),n.Lb(),n.Lb(),n.Mb(7,"div",53),n.lc(8,D,8,4,"div",54),n.Lb(),n.Lb(),n.Lb()),2&t){const t=n.Wb();n.bc("@fade",void 0),n.zb(5),n.bc("routerLink",n.cc(3,U)),n.zb(3),n.bc("ngForOf",t.restaurants)}}const F=[{path:"",component:(()=>{class t{constructor(t,i,e,c,r){this.router=t,this.activityService=i,this.spotsService=e,this.restaurantService=c,this.mapService=r,this.activities=[],this.spotsList=[],this.restaurants=[],this.carousels=[],this.activeSlideIndex=0}ngOnInit(){this.getCities()}getActivities(){this.activityService.getActivities({$top:4,$orderby:"StartTime desc"}).subscribe(t=>{this.activities=t.map(t=>(t.City=t.City||b.a.noProvideCity,t.Picture.PictureUrl1=t.Picture.PictureUrl1||b.a.noImage160x160,t))})}getSpotsList(){this.spotsService.getSpotsList({$top:4}).subscribe(t=>{this.spotsList=t.map(t=>(t.City=t.City||b.a.noProvideCity,t.Picture.PictureUrl1=t.Picture.PictureUrl1||b.a.noImage250x200,t))})}getRestaurants(){this.restaurantService.getRestaurants({$top:4}).subscribe(t=>{this.restaurants=t.map(t=>(t.City=t.City||b.a.noProvideCity,t.Picture.PictureUrl1=t.Picture.PictureUrl1||b.a.noImage250x200,t))})}getCities(){this.mapService.getCities().subscribe(t=>{const i=a.a(t.length);this.getCarousels(t[i].City),this.getActivities(),this.getSpotsList(),this.getRestaurants()})}getCarousels(t){const i={$top:2,$filter:"Picture/PictureUrl1 ne null and City ne null",$orderby:"SrcUpdateTime desc"};this.spotsService.getCitySpotsList(t,i).subscribe(t=>{const i=t.map(t=>({ID:t.ID,title:t.Name,subTitle:t.City,path:t.Picture.PictureUrl1,alt:t.Picture.PictureDescription2,tourismType:"spots"}));this.carousels.push(...i)}),this.restaurantService.getCityRestaurants(t,i).subscribe(t=>{const i=t.map(t=>({ID:t.ID,title:t.Name,subTitle:t.City,path:t.Picture.PictureUrl1,alt:t.Picture.PictureDescription2,tourismType:"restaurant"}));this.carousels.push(...i)}),this.activityService.getCityActivities(t,i).subscribe(t=>{const i=t.map(t=>({ID:t.ID,title:t.Name,subTitle:t.City,path:t.Picture.PictureUrl1,alt:t.Picture.PictureDescription2,tourismType:"activity"}));this.carousels.push(...i)})}navigateToSearch(){let t={state:{keyword:this.keywordInput.nativeElement.value}};switch(this.tourismTypeSelect.nativeElement.value){case"spots":this.router.navigate(["/spots/search"],t);break;case"restaurant":this.router.navigate(["/restaurant/search"],t);break;case"activity":this.router.navigate(["/activity/search"],t)}}switchSlide(t){console.log(t),this.activeSlideIndex=t}}return t.\u0275fac=function(i){return new(i||t)(n.Jb(r.b),n.Jb(o.a),n.Jb(u.a),n.Jb(l.a),n.Jb(d.a))},t.\u0275cmp=n.Db({type:t,selectors:[["app-home"]],viewQuery:function(t,i){var e;1&t&&(n.qc(f,!0),n.qc(v,!0)),2&t&&(n.fc(e=n.Vb())&&(i.tourismTypeSelect=e.first),n.fc(e=n.Vb())&&(i.keywordInput=e.first))},decls:36,vars:5,consts:[[1,"pt-2","pb-10","pt-md-20","pb-md-14"],[1,"container"],[1,"row","justify-content-center"],[1,"col-12","col-md-6","text-center","text-md-start","mb-9","mb-md-0"],[1,"fs-xl","fw-light","lh-base","text-secondary","text-md-start"],[1,"border-bottom","border-2","border-info"],[1,"fs-sm","fs-md-5"],[1,"fas","fa-map-marker-alt","text-info"],[1,"fs-xs","fs-md-6","fw-display","ms-2"],[1,"col-12","col-md-4"],[1,"mb-2"],[1,"form-select","bg-white","py-3","px-8"],["tourismTypeSelect",""],["value","spots","selected",""],["value","activity"],["value","restaurant"],["type","text","placeholder","\u4f60\u60f3\u53bb\u54ea\u88e1\uff1f\u8acb\u8f38\u5165\u95dc\u9375\u5b57",1,"form-control","py-3","px-8"],["keywordInput",""],["href","javascript:;",1,"btn","btn-primary","text-white","w-100","py-3",3,"click"],[1,"fa","fa-search","me-5"],["class","container",4,"ngIf"],["class","mt-8",4,"ngIf"],[3,"isAnimated","activeSlide","activeSlideChange"],[4,"ngFor","ngForOf"],["class","carousel-indicators",4,"ngIf"],["appImage","",3,"src","alt","placeholder"],[1,"carousel-caption",3,"ngSwitch"],["href","javascript:;",3,"routerLink",4,"ngSwitchCase"],["href","javascript:;",3,"routerLink"],[1,"fs-6","fs-md-3","text-white"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions",3,"active","click",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleCaptions",3,"click"],[1,"mt-8"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"fs-4","fs-md-lg","fw-light","text-secondary","mb-0"],["href","javascript:;","routerLink","/activity/search",1,"more","text-danger"],[1,"row","row-cols-1","row-cols-md-2"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card-item","border-0","border-md","bg-transparent","bg-md-light","mb-4","mb-md-3"],[1,"row","g-0"],[1,"col-3"],[1,"img-sm-wrap"],[1,"col-9"],[1,"d-flex","flex-column","justify-content-md-between","h-100","ps-4","p-md-4"],[1,"fs-xs","fs-md-6"],[3,"routerLink"],[1,"fs-sm","fs-md-5","fw-bold","text-dark","mt-1"],[1,"d-flex","justify-content-between"],[1,"fas","fa-map-marker-alt","d-none","d-md-inline","me-1"],["href","javascript:;","routerLink","/activity/search",1,"more","text-primary","d-none","d-md-block"],["href","javascript:;","routerLink","/spots/search",1,"more","text-danger"],[1,"row","row-cols-1","row-cols-md-4"],["class","col mb-4",4,"ngFor","ngForOf"],[1,"col","mb-4"],[1,"img-wrap"],["appImage","",3,"src","alt"],["href","javascipt:;",3,"routerLink"],[1,"fs-5","fw-bold","text-dark","mt-2"],[1,"fas","fa-map-marker-alt","me-1"],["href","javascript:;",1,"more","text-danger",3,"routerLink"],["href","spots.html"]],template:function(t,i){1&t&&(n.Mb(0,"div",0),n.Mb(1,"div",1),n.Mb(2,"div",2),n.Mb(3,"div",3),n.Mb(4,"h1",4),n.mc(5,"\u63a2\u7d22"),n.Mb(6,"span",5),n.mc(7,"\u53f0\u7063\u4e4b\u7f8e"),n.Lb(),n.Kb(8,"br"),n.mc(9,"\u8b93\u6211\u5011\u66f4\u89aa\u8fd1\u9019\u7247\u571f\u5730"),n.Lb(),n.Mb(10,"p",6),n.Kb(11,"i",7),n.mc(12," \u53f0\u7063\u65c5\u904a\u666f\u9ede\u5c0e\u89bd"),n.Mb(13,"span",8),n.mc(14,"Taiwan Travel Guide"),n.Lb(),n.Lb(),n.Lb(),n.Mb(15,"div",9),n.Mb(16,"form"),n.Mb(17,"div",10),n.Mb(18,"select",11,12),n.Mb(20,"option",13),n.mc(21,"\u63a2\u7d22\u666f\u9ede"),n.Lb(),n.Mb(22,"option",14),n.mc(23,"\u7bc0\u6176\u6d3b\u52d5"),n.Lb(),n.Mb(24,"option",15),n.mc(25,"\u54c1\u5690\u7f8e\u98df"),n.Lb(),n.Lb(),n.Lb(),n.Mb(26,"div",10),n.Kb(27,"input",16,17),n.Lb(),n.Mb(29,"a",18),n.Ub("click",(function(){return i.navigateToSearch()})),n.Kb(30,"i",19),n.mc(31,"\u641c\u5c0b "),n.Lb(),n.Lb(),n.Lb(),n.Lb(),n.Lb(),n.Lb(),n.lc(32,C,4,5,"div",20),n.lc(33,k,9,2,"div",21),n.lc(34,T,9,2,"div",21),n.lc(35,j,9,4,"div",21)),2&t&&(n.bc("@fade",void 0),n.zb(32),n.bc("ngIf",i.carousels.length),n.zb(1),n.bc("ngIf",i.activities.length),n.zb(1),n.bc("ngIf",i.spotsList.length),n.zb(1),n.bc("ngIf",i.restaurants.length))},directives:[c.j,m.a,c.i,m.c,p.a,c.l,c.m,r.c],pipes:[c.d],styles:[""],data:{animation:[s.a]}}),t})()}];let $=(()=>{class t{}return t.\u0275mod=n.Hb({type:t}),t.\u0275inj=n.Gb({factory:function(i){return new(i||t)},imports:[[r.d.forChild(F)],r.d]}),t})();var K=e("PCNd");let W=(()=>{class t{}return t.\u0275mod=n.Hb({type:t}),t.\u0275inj=n.Gb({factory:function(i){return new(i||t)},imports:[[c.b,$,m.b.forRoot(),K.a]]}),t})()}}]);