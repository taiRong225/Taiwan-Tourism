(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{XWda:function(t,i,e){"use strict";e.r(i),e.d(i,"HomeModule",(function(){return K}));var c=e("ofXK"),r=e("tyNb"),s=e("wp8x"),a=e("AytR"),n=e("5X4A"),b=e("fXoL"),o=e("3ROY"),u=e("WEYH"),l=e("XXB/"),d=e("1i8C"),p=e("LYaK"),m=e("j/Ft");const v=["tourismTypeSelect"],f=["keywordInput"],h=function(t){return["/spots",t]};function L(t,i){if(1&t&&(b.Mb(0,"a",28),b.Mb(1,"h3",29),b.pc(2),b.Lb(),b.Lb()),2&t){const t=b.Xb().$implicit;b.cc("routerLink",b.ec(3,h,t.ID)),b.zb(2),b.sc("",t.subTitle," | ",t.title,"")}}const g=function(t){return["/restaurant",t]};function y(t,i){if(1&t&&(b.Mb(0,"a",28),b.Mb(1,"h3",29),b.pc(2),b.Lb(),b.Lb()),2&t){const t=b.Xb().$implicit;b.cc("routerLink",b.ec(3,g,t.ID)),b.zb(2),b.sc("",t.subTitle," | ",t.title,"")}}const M=function(t){return["/activity",t]};function S(t,i){if(1&t&&(b.Mb(0,"a",28),b.Mb(1,"h3",29),b.pc(2),b.Lb(),b.Lb()),2&t){const t=b.Xb().$implicit;b.cc("routerLink",b.ec(3,M,t.ID)),b.zb(2),b.sc("",t.subTitle," | ",t.title,"")}}function w(t,i){if(1&t&&(b.Mb(0,"slide"),b.Kb(1,"img",25),b.Mb(2,"div",26),b.oc(3,L,3,5,"a",27),b.oc(4,y,3,5,"a",27),b.oc(5,S,3,5,"a",27),b.Lb(),b.Lb()),2&t){const t=i.$implicit;b.zb(1),b.cc("src",t.path,b.lc)("alt",t.alt)("placeholder","assets/images/NoImage-1100x400.png"),b.zb(1),b.cc("ngSwitch",t.tourismType),b.zb(1),b.cc("ngSwitchCase","spots"),b.zb(1),b.cc("ngSwitchCase","restaurant"),b.zb(1),b.cc("ngSwitchCase","activity")}}function P(t,i){if(1&t){const t=b.Nb();b.Mb(0,"button",32),b.Ub("click",(function(){b.jc(t);const e=i.index;return b.Xb(3).switchSlide(e)})),b.Lb()}if(2&t){const t=i.index,e=b.Xb(3);b.Bb("active",t===e.activeSlideIndex)}}function x(t,i){if(1&t&&(b.Mb(0,"div",30),b.oc(1,P,1,2,"button",31),b.Lb()),2&t){const t=b.Xb(2);b.zb(1),b.cc("ngForOf",t.carousels)}}function C(t,i){if(1&t){const t=b.Nb();b.Mb(0,"div",1),b.Mb(1,"carousel",22),b.Ub("activeSlideChange",(function(i){return b.jc(t),b.Xb().activeSlideIndex=i})),b.oc(2,w,6,7,"slide",23),b.oc(3,x,2,1,"div",24),b.Lb(),b.Lb()}if(2&t){const t=b.Xb();b.cc("@fade",void 0),b.zb(1),b.cc("isAnimated",!0)("activeSlide",t.activeSlideIndex),b.zb(1),b.cc("ngForOf",t.carousels),b.zb(1),b.cc("ngIf",t.carousels.length>1)}}function I(t,i){if(1&t&&(b.Mb(0,"div",39),b.Mb(1,"div",40),b.Mb(2,"div",41),b.Mb(3,"div",42),b.Mb(4,"div",43),b.Kb(5,"img",25),b.Lb(),b.Lb(),b.Mb(6,"div",44),b.Mb(7,"div",45),b.Mb(8,"div"),b.Mb(9,"span",46),b.pc(10),b.Yb(11,"date"),b.Yb(12,"date"),b.Lb(),b.Mb(13,"a",47),b.Mb(14,"h3",48),b.pc(15),b.Lb(),b.Lb(),b.Lb(),b.Mb(16,"div",49),b.Mb(17,"div"),b.Kb(18,"i",50),b.Mb(19,"span",46),b.pc(20),b.Lb(),b.Lb(),b.Mb(21,"a",51),b.pc(22,"\u8a73\u7d30\u4ecb\u7d39"),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()),2&t){const t=i.$implicit;b.zb(5),b.cc("src",t.Picture.PictureUrl1,b.lc)("alt",t.Picture.PictureDescription1)("placeholder","assets/images/NoImage-160x160.png"),b.zb(5),b.sc(" ",b.Zb(11,8,t.StartTime,"yyyy/MM/dd")," - ",b.Zb(12,11,t.EndTime,"yyyy/MM/dd")," "),b.zb(3),b.cc("routerLink",b.ec(14,M,t.ActivityID)),b.zb(2),b.rc("",t.ActivityName," "),b.zb(5),b.qc(t.City)}}function k(t,i){if(1&t&&(b.Mb(0,"div",33),b.Mb(1,"div",1),b.Mb(2,"div",34),b.Mb(3,"h2",35),b.pc(4,"\u8fd1\u671f\u6d3b\u52d5"),b.Lb(),b.Mb(5,"a",36),b.pc(6,"\u67e5\u770b\u66f4\u591a\u6d3b\u52d5"),b.Lb(),b.Lb(),b.Mb(7,"div",37),b.oc(8,I,23,16,"div",38),b.Lb(),b.Lb(),b.Lb()),2&t){const t=b.Xb();b.cc("@fade",void 0),b.zb(8),b.cc("ngForOf",t.activities)}}function z(t,i){if(1&t&&(b.Mb(0,"div",55),b.Mb(1,"div",56),b.Kb(2,"img",57),b.Lb(),b.Mb(3,"a",58),b.Mb(4,"h3",59),b.pc(5),b.Lb(),b.Lb(),b.Kb(6,"i",60),b.pc(7),b.Lb()),2&t){const t=i.$implicit;b.zb(2),b.cc("src",t.Picture.PictureUrl1,b.lc)("alt",t.Picture.PictureDescription1),b.zb(1),b.cc("routerLink",b.ec(5,h,t.ScenicSpotID)),b.zb(2),b.qc(t.ScenicSpotName),b.zb(2),b.rc("",t.City," ")}}function T(t,i){if(1&t&&(b.Mb(0,"div",33),b.Mb(1,"div",1),b.Mb(2,"div",34),b.Mb(3,"h2",35),b.pc(4,"\u71b1\u9580\u6253\u5361\u666f\u9ede"),b.Lb(),b.Mb(5,"a",52),b.pc(6,"\u67e5\u770b\u66f4\u591a\u666f\u9ede"),b.Lb(),b.Lb(),b.Mb(7,"div",53),b.oc(8,z,8,7,"div",54),b.Lb(),b.Lb(),b.Lb()),2&t){const t=b.Xb();b.cc("@fade",void 0),b.zb(8),b.cc("ngForOf",t.spotsList)}}function j(t,i){if(1&t&&(b.Mb(0,"div",55),b.Mb(1,"div",56),b.Kb(2,"img",57),b.Lb(),b.Mb(3,"a",62),b.Mb(4,"h3",59),b.pc(5),b.Lb(),b.Lb(),b.Kb(6,"i",60),b.pc(7),b.Lb()),2&t){const t=i.$implicit;b.zb(2),b.cc("src",t.Picture.PictureUrl1,b.lc)("alt",t.Picture.PictureDescription1),b.zb(3),b.qc(t.RestaurantName),b.zb(2),b.rc("",t.City," ")}}const D=function(){return["/restaurant/search"]};function U(t,i){if(1&t&&(b.Mb(0,"div",33),b.Mb(1,"div",1),b.Mb(2,"div",34),b.Mb(3,"h2",35),b.pc(4,"\u4e00\u518d\u56de\u8a2a\u7f8e\u98df"),b.Lb(),b.Mb(5,"a",61),b.pc(6,"\u67e5\u770b\u66f4\u591a\u7f8e\u98df"),b.Lb(),b.Lb(),b.Mb(7,"div",53),b.oc(8,j,8,4,"div",54),b.Lb(),b.Lb(),b.Lb()),2&t){const t=b.Xb();b.cc("@fade",void 0),b.zb(5),b.cc("routerLink",b.dc(3,D)),b.zb(3),b.cc("ngForOf",t.restaurants)}}const X=[{path:"",component:(()=>{class t{constructor(t,i,e,c,r){this.router=t,this.activityService=i,this.spotsService=e,this.restaurantService=c,this.mapService=r,this.activities=[],this.spotsList=[],this.restaurants=[],this.carousels=[],this.activeSlideIndex=0}ngOnInit(){this.getCities()}getActivities(){this.activityService.getActivities({$top:4,$orderby:"StartTime desc"}).subscribe(t=>{this.activities=t.map(t=>(t.City=t.City||a.a.noProvideCity,t.Picture.PictureUrl1=t.Picture.PictureUrl1||a.a.noImage160x160,t))})}getSpotsList(){this.spotsService.getSpotsList({$top:4}).subscribe(t=>{this.spotsList=t.map(t=>(t.City=t.City||a.a.noProvideCity,t.Picture.PictureUrl1=t.Picture.PictureUrl1||a.a.noImage250x200,t))})}getRestaurants(){this.restaurantService.getRestaurants({$top:4}).subscribe(t=>{this.restaurants=t.map(t=>(t.City=t.City||a.a.noProvideCity,t.Picture.PictureUrl1=t.Picture.PictureUrl1||a.a.noImage250x200,t))})}getCities(){this.mapService.getCities().subscribe(t=>{const i=n.a(t.length);this.getCarousels(t[i].City),this.getActivities(),this.getSpotsList(),this.getRestaurants()})}getCarousels(t){const i={$top:2,$filter:"Picture/PictureUrl1 ne null and City ne null",$orderby:"SrcUpdateTime desc"};this.spotsService.getCitySpotsList(t,i).subscribe(t=>{const i=t.map(t=>({ID:t.ScenicSpotID,title:t.ScenicSpotName,subTitle:t.City,path:t.Picture.PictureUrl1,alt:t.Picture.PictureDescription2,tourismType:"spots"}));this.carousels.push(...i)}),this.restaurantService.getCityRestaurants(t,i).subscribe(t=>{const i=t.map(t=>({ID:t.RestaurantID,title:t.RestaurantName,subTitle:t.City,path:t.Picture.PictureUrl1,alt:t.Picture.PictureDescription2,tourismType:"restaurant"}));this.carousels.push(...i)}),this.activityService.getCityActivities(t,i).subscribe(t=>{const i=t.map(t=>({ID:t.ActivityID,title:t.ActivityName,subTitle:t.City,path:t.Picture.PictureUrl1,alt:t.Picture.PictureDescription2,tourismType:"activity"}));this.carousels.push(...i)})}navigateToSearch(){let t={state:{keyword:this.keywordInput.nativeElement.value}};switch(this.tourismTypeSelect.nativeElement.value){case"spots":this.router.navigate(["/spots/search"],t);break;case"restaurant":this.router.navigate(["/restaurant/search"],t);break;case"activity":this.router.navigate(["/activity/search"],t)}}switchSlide(t){console.log(t),this.activeSlideIndex=t}}return t.\u0275fac=function(i){return new(i||t)(b.Jb(r.b),b.Jb(o.a),b.Jb(u.a),b.Jb(l.a),b.Jb(d.a))},t.\u0275cmp=b.Db({type:t,selectors:[["app-home"]],viewQuery:function(t,i){var e;1&t&&(b.tc(v,!0),b.tc(f,!0)),2&t&&(b.gc(e=b.Vb())&&(i.tourismTypeSelect=e.first),b.gc(e=b.Vb())&&(i.keywordInput=e.first))},decls:36,vars:5,consts:[[1,"pt-2","pb-10","pt-md-20","pb-md-14"],[1,"container"],[1,"row","justify-content-center"],[1,"col-12","col-md-6","text-center","text-md-start","mb-9","mb-md-0"],[1,"fs-xl","fw-light","lh-base","text-secondary","text-md-start"],[1,"border-bottom","border-2","border-info"],[1,"fs-sm","fs-md-5"],[1,"fas","fa-map-marker-alt","text-info"],[1,"fs-xs","fs-md-6","fw-display","ms-2"],[1,"col-12","col-md-4"],[1,"mb-2"],[1,"form-select","bg-white","py-3","px-8"],["tourismTypeSelect",""],["value","spots","selected",""],["value","activity"],["value","restaurant"],["type","text","placeholder","\u4f60\u60f3\u53bb\u54ea\u88e1\uff1f\u8acb\u8f38\u5165\u95dc\u9375\u5b57",1,"form-control","py-3","px-8"],["keywordInput",""],["href","javascript:;",1,"btn","btn-primary","text-white","w-100","py-3",3,"click"],[1,"fa","fa-search","me-5"],["class","container",4,"ngIf"],["class","mt-8",4,"ngIf"],[3,"isAnimated","activeSlide","activeSlideChange"],[4,"ngFor","ngForOf"],["class","carousel-indicators",4,"ngIf"],["appImage","",3,"src","alt","placeholder"],[1,"carousel-caption",3,"ngSwitch"],["href","javascript:;",3,"routerLink",4,"ngSwitchCase"],["href","javascript:;",3,"routerLink"],[1,"fs-6","fs-md-3","text-white"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions",3,"active","click",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleCaptions",3,"click"],[1,"mt-8"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"fs-4","fs-md-lg","fw-light","text-secondary","mb-0"],["href","javascript:;","routerLink","/activity/search",1,"more","text-danger"],[1,"row","row-cols-1","row-cols-md-2"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card-item","border-0","border-md","bg-transparent","bg-md-light","mb-4","mb-md-3"],[1,"row","g-0"],[1,"col-3"],[1,"img-sm-wrap"],[1,"col-9"],[1,"d-flex","flex-column","justify-content-md-between","h-100","ps-4","p-md-4"],[1,"fs-xs","fs-md-6"],[3,"routerLink"],[1,"fs-sm","fs-md-5","fw-bold","text-dark","mt-1"],[1,"d-flex","justify-content-between"],[1,"fas","fa-map-marker-alt","d-none","d-md-inline","me-1"],["href","javascript:;","routerLink","/activity/search",1,"more","text-primary","d-none","d-md-block"],["href","javascript:;","routerLink","/spots/search",1,"more","text-danger"],[1,"row","row-cols-1","row-cols-md-4"],["class","col mb-4",4,"ngFor","ngForOf"],[1,"col","mb-4"],[1,"img-wrap"],["appImage","",3,"src","alt"],["href","javascipt:;",3,"routerLink"],[1,"fs-5","fw-bold","text-dark","mt-2"],[1,"fas","fa-map-marker-alt","me-1"],["href","javascript:;",1,"more","text-danger",3,"routerLink"],["href","spots.html"]],template:function(t,i){1&t&&(b.Mb(0,"div",0),b.Mb(1,"div",1),b.Mb(2,"div",2),b.Mb(3,"div",3),b.Mb(4,"h1",4),b.pc(5,"\u63a2\u7d22"),b.Mb(6,"span",5),b.pc(7,"\u53f0\u7063\u4e4b\u7f8e"),b.Lb(),b.Kb(8,"br"),b.pc(9,"\u8b93\u6211\u5011\u66f4\u89aa\u8fd1\u9019\u7247\u571f\u5730"),b.Lb(),b.Mb(10,"p",6),b.Kb(11,"i",7),b.pc(12," \u53f0\u7063\u65c5\u904a\u666f\u9ede\u5c0e\u89bd"),b.Mb(13,"span",8),b.pc(14,"Taiwan Travel Guide"),b.Lb(),b.Lb(),b.Lb(),b.Mb(15,"div",9),b.Mb(16,"form"),b.Mb(17,"div",10),b.Mb(18,"select",11,12),b.Mb(20,"option",13),b.pc(21,"\u63a2\u7d22\u666f\u9ede"),b.Lb(),b.Mb(22,"option",14),b.pc(23,"\u7bc0\u6176\u6d3b\u52d5"),b.Lb(),b.Mb(24,"option",15),b.pc(25,"\u54c1\u5690\u7f8e\u98df"),b.Lb(),b.Lb(),b.Lb(),b.Mb(26,"div",10),b.Kb(27,"input",16,17),b.Lb(),b.Mb(29,"a",18),b.Ub("click",(function(){return i.navigateToSearch()})),b.Kb(30,"i",19),b.pc(31,"\u641c\u5c0b "),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.oc(32,C,4,5,"div",20),b.oc(33,k,9,2,"div",21),b.oc(34,T,9,2,"div",21),b.oc(35,U,9,4,"div",21)),2&t&&(b.cc("@fade",void 0),b.zb(32),b.cc("ngIf",i.carousels.length),b.zb(1),b.cc("ngIf",i.activities.length),b.zb(1),b.cc("ngIf",i.spotsList.length),b.zb(1),b.cc("ngIf",i.restaurants.length))},directives:[c.k,p.a,c.j,p.c,m.a,c.m,c.n,r.c],pipes:[c.d],styles:[""],data:{animation:[s.a]}}),t})()}];let F=(()=>{class t{}return t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({factory:function(i){return new(i||t)},imports:[[r.d.forChild(X)],r.d]}),t})();var $=e("PCNd");let K=(()=>{class t{}return t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({factory:function(i){return new(i||t)},imports:[[c.b,F,p.b.forRoot(),$.a]]}),t})()}}]);