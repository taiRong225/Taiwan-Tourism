function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{XWda:function(t,e,i){"use strict";i.r(e),i.d(e,"HomeModule",(function(){return W}));var r=i("ofXK"),a=i("tyNb"),c=i("wp8x"),n=i("AytR"),o=i("5X4A"),s=i("fXoL"),b=i("3ROY"),u=i("WEYH"),l=i("XXB/"),d=i("1i8C"),f=i("LYaK"),p=i("j/Ft"),m=["tourismTypeSelect"],v=["keywordInput"],y=function(t){return["/spots",t]};function h(t,e){if(1&t&&(s.Mb(0,"a",29),s.Mb(1,"h3",30),s.mc(2),s.Lb(),s.Lb()),2&t){var i=s.Wb().$implicit;s.bc("routerLink",s.dc(3,y,i.ID)),s.zb(2),s.pc("",i.subTitle," | ",i.title,"")}}var L=function(t){return["/restaurant",t]};function g(t,e){if(1&t&&(s.Mb(0,"a",29),s.Mb(1,"h3",30),s.mc(2),s.Lb(),s.Lb()),2&t){var i=s.Wb().$implicit;s.bc("routerLink",s.dc(3,L,i.ID)),s.zb(2),s.pc("",i.subTitle," | ",i.title,"")}}var M=function(t){return["/activity",t]};function w(t,e){if(1&t&&(s.Mb(0,"a",29),s.Mb(1,"h3",30),s.mc(2),s.Lb(),s.Lb()),2&t){var i=s.Wb().$implicit;s.bc("routerLink",s.dc(3,M,i.ID)),s.zb(2),s.pc("",i.subTitle," | ",i.title,"")}}function C(t,e){if(1&t&&(s.Mb(0,"slide"),s.Kb(1,"img",26),s.Mb(2,"div",27),s.lc(3,h,3,5,"a",28),s.lc(4,g,3,5,"a",28),s.lc(5,w,3,5,"a",28),s.Lb(),s.Lb()),2&t){var i=e.$implicit;s.zb(1),s.bc("src",i.path,s.ic)("alt",i.alt)("placeholder","assets/images/NoImage-1100x400.png"),s.zb(1),s.bc("ngSwitch",i.tourismType),s.zb(1),s.bc("ngSwitchCase","spots"),s.zb(1),s.bc("ngSwitchCase","restaurant"),s.zb(1),s.bc("ngSwitchCase","activity")}}function k(t,e){if(1&t){var i=s.Nb();s.Mb(0,"button",31),s.Ub("click",(function(){s.gc(i);var t=e.index;return s.Wb(2).switchSlide(t)})),s.Lb()}if(2&t){var r=e.index,a=s.Wb(2);s.Bb("active",r===a.activeSlideIndex)}}function S(t,e){if(1&t){var i=s.Nb();s.Mb(0,"div",1),s.Mb(1,"carousel",22),s.Ub("activeSlideChange",(function(t){return s.gc(i),s.Wb().activeSlideIndex=t})),s.lc(2,C,6,7,"slide",23),s.Mb(3,"div",24),s.lc(4,k,1,2,"button",25),s.Lb(),s.Lb(),s.Lb()}if(2&t){var r=s.Wb();s.bc("@fade",void 0),s.zb(1),s.bc("isAnimated",!0)("activeSlide",r.activeSlideIndex),s.zb(1),s.bc("ngForOf",r.carousels),s.zb(2),s.bc("ngForOf",r.carousels)}}function P(t,e){if(1&t&&(s.Mb(0,"div",38),s.Mb(1,"div",39),s.Mb(2,"div",40),s.Mb(3,"div",41),s.Kb(4,"img",42),s.Lb(),s.Mb(5,"div",43),s.Mb(6,"div",44),s.Mb(7,"div"),s.Mb(8,"span",45),s.mc(9),s.Xb(10,"date"),s.Xb(11,"date"),s.Lb(),s.Mb(12,"a",46),s.Mb(13,"h3",47),s.mc(14),s.Lb(),s.Lb(),s.Lb(),s.Mb(15,"div",48),s.Mb(16,"div"),s.Kb(17,"i",49),s.Mb(18,"span",45),s.mc(19),s.Lb(),s.Lb(),s.Mb(20,"a",50),s.mc(21,"\u8a73\u7d30\u4ecb\u7d39"),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb()),2&t){var i=e.$implicit;s.zb(4),s.bc("src",i.Picture.PictureUrl1,s.ic)("alt",i.Picture.PictureDescription1)("placeholder","assets/images/NoImage-160x160.png"),s.zb(5),s.pc(" ",s.Yb(10,8,i.StartTime,"yyyy/MM/dd")," - ",s.Yb(11,11,i.EndTime,"yyyy/MM/dd")," "),s.zb(3),s.bc("routerLink",s.dc(14,M,i.ID)),s.zb(2),s.nc(i.Name),s.zb(5),s.nc(i.City)}}function I(t,e){if(1&t&&(s.Mb(0,"div",32),s.Mb(1,"div",1),s.Mb(2,"div",33),s.Mb(3,"h2",34),s.mc(4,"\u8fd1\u671f\u6d3b\u52d5"),s.Lb(),s.Mb(5,"a",35),s.mc(6,"\u67e5\u770b\u66f4\u591a\u6d3b\u52d5"),s.Lb(),s.Lb(),s.Mb(7,"div",36),s.lc(8,P,22,16,"div",37),s.Lb(),s.Lb(),s.Lb()),2&t){var i=s.Wb();s.bc("@fade",void 0),s.zb(8),s.bc("ngForOf",i.activities)}}function x(t,e){if(1&t&&(s.Mb(0,"div",54),s.Mb(1,"div",55),s.Kb(2,"img",56),s.Lb(),s.Mb(3,"a",57),s.Mb(4,"h3",58),s.mc(5),s.Lb(),s.Lb(),s.Kb(6,"i",59),s.mc(7),s.Lb()),2&t){var i=e.$implicit;s.zb(2),s.bc("src",i.Picture.PictureUrl1,s.ic)("alt",i.Picture.PictureDescription1),s.zb(1),s.bc("routerLink",s.dc(5,y,i.ID)),s.zb(2),s.nc(i.Name),s.zb(2),s.oc("",i.City," ")}}function T(t,e){if(1&t&&(s.Mb(0,"div",32),s.Mb(1,"div",1),s.Mb(2,"div",33),s.Mb(3,"h2",34),s.mc(4,"\u71b1\u9580\u6253\u5361\u666f\u9ede"),s.Lb(),s.Mb(5,"a",51),s.mc(6,"\u67e5\u770b\u66f4\u591a\u666f\u9ede"),s.Lb(),s.Lb(),s.Mb(7,"div",52),s.lc(8,x,8,7,"div",53),s.Lb(),s.Lb(),s.Lb()),2&t){var i=s.Wb();s.bc("@fade",void 0),s.zb(8),s.bc("ngForOf",i.spotsList)}}function z(t,e){if(1&t&&(s.Mb(0,"div",54),s.Mb(1,"div",55),s.Kb(2,"img",56),s.Lb(),s.Mb(3,"a",61),s.Mb(4,"h3",58),s.mc(5),s.Lb(),s.Lb(),s.Kb(6,"i",59),s.mc(7),s.Lb()),2&t){var i=e.$implicit;s.zb(2),s.bc("src",i.Picture.PictureUrl1,s.ic)("alt",i.Picture.PictureDescription1),s.zb(3),s.nc(i.Name),s.zb(2),s.oc("",i.City," ")}}var A=function(){return["/restaurant/search"]};function _(t,e){if(1&t&&(s.Mb(0,"div",32),s.Mb(1,"div",1),s.Mb(2,"div",33),s.Mb(3,"h2",34),s.mc(4,"\u4e00\u518d\u56de\u8a2a\u7f8e\u98df"),s.Lb(),s.Mb(5,"a",60),s.mc(6,"\u67e5\u770b\u66f4\u591a\u7f8e\u98df"),s.Lb(),s.Lb(),s.Mb(7,"div",52),s.lc(8,z,8,4,"div",53),s.Lb(),s.Lb(),s.Lb()),2&t){var i=s.Wb();s.bc("@fade",void 0),s.zb(5),s.bc("routerLink",s.cc(3,A)),s.zb(3),s.bc("ngForOf",i.restaurants)}}var j,D,U,$=[{path:"",component:(j=function(){function t(e,i,r,a,c){_classCallCheck(this,t),this.router=e,this.activityService=i,this.spotsService=r,this.restaurantService=a,this.mapService=c,this.activities=[],this.spotsList=[],this.restaurants=[],this.carousels=[],this.activeSlideIndex=0}return _createClass(t,[{key:"ngOnInit",value:function(){this.getCities()}},{key:"getActivities",value:function(){var t=this;this.activityService.getActivities({$top:4,$orderby:"StartTime desc"}).subscribe((function(e){t.activities=e.map((function(t){return t.City=t.City||n.a.noProvideCity,t.Picture.PictureUrl1=t.Picture.PictureUrl1||n.a.noImage160x160,t}))}))}},{key:"getSpotsList",value:function(){var t=this;this.spotsService.getSpotsList({$top:4}).subscribe((function(e){t.spotsList=e.map((function(t){return t.City=t.City||n.a.noProvideCity,t.Picture.PictureUrl1=t.Picture.PictureUrl1||n.a.noImage250x200,t}))}))}},{key:"getRestaurants",value:function(){var t=this;this.restaurantService.getRestaurants({$top:4}).subscribe((function(e){t.restaurants=e.map((function(t){return t.City=t.City||n.a.noProvideCity,t.Picture.PictureUrl1=t.Picture.PictureUrl1||n.a.noImage250x200,t}))}))}},{key:"getCities",value:function(){var t=this;this.mapService.getCities().subscribe((function(e){var i=o.a(e.length);t.getCarousels(e[i].City),t.getActivities(),t.getSpotsList(),t.getRestaurants()}))}},{key:"getCarousels",value:function(t){var e=this,i={$top:2,$filter:"Picture/PictureUrl1 ne null and City ne null",$orderby:"SrcUpdateTime desc"};this.spotsService.getCitySpotsList(t,i).subscribe((function(t){var i,r=t.map((function(t){return{ID:t.ID,title:t.Name,subTitle:t.City,path:t.Picture.PictureUrl1,alt:t.Picture.PictureDescription2,tourismType:"spots"}}));(i=e.carousels).push.apply(i,_toConsumableArray(r))})),this.restaurantService.getCityRestaurants(t,i).subscribe((function(t){var i,r=t.map((function(t){return{ID:t.ID,title:t.Name,subTitle:t.City,path:t.Picture.PictureUrl1,alt:t.Picture.PictureDescription2,tourismType:"restaurant"}}));(i=e.carousels).push.apply(i,_toConsumableArray(r))})),this.activityService.getCityActivities(t,i).subscribe((function(t){var i,r=t.map((function(t){return{ID:t.ID,title:t.Name,subTitle:t.City,path:t.Picture.PictureUrl1,alt:t.Picture.PictureDescription2,tourismType:"activity"}}));(i=e.carousels).push.apply(i,_toConsumableArray(r))}))}},{key:"navigateToSearch",value:function(){var t={state:{keyword:this.keywordInput.nativeElement.value}};switch(this.tourismTypeSelect.nativeElement.value){case"spots":this.router.navigate(["/spots/search"],t);break;case"restaurant":this.router.navigate(["/restaurant/search"],t);break;case"activity":this.router.navigate(["/activity/search"],t)}}},{key:"switchSlide",value:function(t){console.log(t),this.activeSlideIndex=t}}]),t}(),j.\u0275fac=function(t){return new(t||j)(s.Jb(a.b),s.Jb(b.a),s.Jb(u.a),s.Jb(l.a),s.Jb(d.a))},j.\u0275cmp=s.Db({type:j,selectors:[["app-home"]],viewQuery:function(t,e){var i;1&t&&(s.qc(m,!0),s.qc(v,!0)),2&t&&(s.fc(i=s.Vb())&&(e.tourismTypeSelect=i.first),s.fc(i=s.Vb())&&(e.keywordInput=i.first))},decls:36,vars:5,consts:[[1,"pt-2","pb-10","pt-md-20","pb-md-14"],[1,"container"],[1,"row","justify-content-center"],[1,"col-12","col-md-6","text-center","text-md-start","mb-9","mb-md-0"],[1,"fs-xl","fw-light","lh-base","text-secondary","text-md-start"],[1,"border-bottom","border-2","border-info"],[1,"fs-sm","fs-md-5"],[1,"fas","fa-map-marker-alt","text-info"],[1,"fs-xs","fs-md-6","fw-display","ms-2"],[1,"col-12","col-md-4"],[1,"mb-2"],[1,"form-select","bg-white","py-3","px-8"],["tourismTypeSelect",""],["value","spots","selected",""],["value","activity"],["value","restaurant"],["type","text","placeholder","\u4f60\u60f3\u53bb\u54ea\u88e1\uff1f\u8acb\u8f38\u5165\u95dc\u9375\u5b57",1,"form-control","py-3","px-8"],["keywordInput",""],["href","javascript:;",1,"btn","btn-primary","text-white","w-100","py-3",3,"click"],[1,"fa","fa-search","me-5"],["class","container",4,"ngIf"],["class","mt-8",4,"ngIf"],[3,"isAnimated","activeSlide","activeSlideChange"],[4,"ngFor","ngForOf"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions",3,"active","click",4,"ngFor","ngForOf"],["appImage","",3,"src","alt","placeholder"],[1,"carousel-caption",3,"ngSwitch"],["href","javascript:;",3,"routerLink",4,"ngSwitchCase"],["href","javascript:;",3,"routerLink"],[1,"fs-6","fs-md-3","text-white"],["type","button","data-bs-target","#carouselExampleCaptions",3,"click"],[1,"mt-8"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"fs-4","fs-md-lg","fw-light","text-secondary","mb-0"],["href","javascript:;","routerLink","/activity/search",1,"more","text-danger"],[1,"row","row-cols-1","row-cols-md-2"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card-item","border-0","border-md","bg-transparent","bg-md-light","mb-4","mb-md-3"],[1,"row","g-0"],[1,"col-3"],["appImage","",1,"w-100","h-100","object-cover",3,"src","alt","placeholder"],[1,"col-9"],[1,"d-flex","flex-column","justify-content-md-between","h-100","ps-4","p-md-4"],[1,"fs-xs","fs-md-6"],[3,"routerLink"],[1,"fs-6","fs-md-5","fw-bold","text-dark","mt-1"],[1,"d-flex","justify-content-between"],[1,"fas","fa-map-marker-alt","d-none","d-md-inline","me-1"],["href","javascript:;","routerLink","/activity/search",1,"more","text-primary","d-none","d-md-block"],["href","javascript:;","routerLink","/spots/search",1,"more","text-danger"],[1,"row","row-cols-1","row-cols-md-4"],["class","col mb-4",4,"ngFor","ngForOf"],[1,"col","mb-4"],[1,"img-wrap"],["appImage","",3,"src","alt"],["href","javascipt:;",3,"routerLink"],[1,"fs-5","fw-bold","text-dark","mt-2"],[1,"fas","fa-map-marker-alt","me-1"],["href","javascript:;",1,"more","text-danger",3,"routerLink"],["href","spots.html"]],template:function(t,e){1&t&&(s.Mb(0,"div",0),s.Mb(1,"div",1),s.Mb(2,"div",2),s.Mb(3,"div",3),s.Mb(4,"h1",4),s.mc(5,"\u63a2\u7d22"),s.Mb(6,"span",5),s.mc(7,"\u53f0\u7063\u4e4b\u7f8e"),s.Lb(),s.Kb(8,"br"),s.mc(9,"\u8b93\u6211\u5011\u66f4\u89aa\u8fd1\u9019\u7247\u571f\u5730"),s.Lb(),s.Mb(10,"p",6),s.Kb(11,"i",7),s.mc(12," \u53f0\u7063\u65c5\u904a\u666f\u9ede\u5c0e\u89bd"),s.Mb(13,"span",8),s.mc(14,"Taiwan Travel Guide"),s.Lb(),s.Lb(),s.Lb(),s.Mb(15,"div",9),s.Mb(16,"form"),s.Mb(17,"div",10),s.Mb(18,"select",11,12),s.Mb(20,"option",13),s.mc(21,"\u63a2\u7d22\u666f\u9ede"),s.Lb(),s.Mb(22,"option",14),s.mc(23,"\u7bc0\u6176\u6d3b\u52d5"),s.Lb(),s.Mb(24,"option",15),s.mc(25,"\u54c1\u5690\u7f8e\u98df"),s.Lb(),s.Lb(),s.Lb(),s.Mb(26,"div",10),s.Kb(27,"input",16,17),s.Lb(),s.Mb(29,"a",18),s.Ub("click",(function(){return e.navigateToSearch()})),s.Kb(30,"i",19),s.mc(31,"\u641c\u5c0b "),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.lc(32,S,5,5,"div",20),s.lc(33,I,9,2,"div",21),s.lc(34,T,9,2,"div",21),s.lc(35,_,9,4,"div",21)),2&t&&(s.bc("@fade",void 0),s.zb(32),s.bc("ngIf",e.carousels.length),s.zb(1),s.bc("ngIf",e.activities.length),s.zb(1),s.bc("ngIf",e.spotsList.length),s.zb(1),s.bc("ngIf",e.restaurants.length))},directives:[r.j,f.a,r.i,f.c,p.a,r.l,r.m,a.c],pipes:[r.d],styles:[""],data:{animation:[c.a]}}),j)}],F=((D=function t(){_classCallCheck(this,t)}).\u0275mod=s.Hb({type:D}),D.\u0275inj=s.Gb({factory:function(t){return new(t||D)},imports:[[a.d.forChild($)],a.d]}),D),O=i("PCNd"),W=((U=function t(){_classCallCheck(this,t)}).\u0275mod=s.Hb({type:U}),U.\u0275inj=s.Gb({factory:function(t){return new(t||U)},imports:[[r.b,F,f.b.forRoot(),O.a]]}),U)}}]);